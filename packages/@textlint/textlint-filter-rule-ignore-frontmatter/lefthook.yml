## @(#) : lefthook config
# @version  1.0.0
# @since    2025-04-12
# @author   Furukawa, Atsushi <atsushifx@gmail.com>
# @license  MIT
#
# @desc<<
#
# Git hook configuration using lefthook.
# Automatically runs checks and linters on staged files before commit.
#
#<<

pre-commit:
  parallel: true
  commands:
    gitleaks:
      run: gitleaks protect --staged

    secretlint:
      glob: '**/*'
      run: pnpm run lint:secrets

    format:
      glob: "src/**/*.{ts,tsx}"
      run: pnpm format:dprint

    spellcheck:
      glob: "src/**/*.{ts,tsx}"
      run: pnpm check:spellcheck --no-progress -- "{staged_files}"

    typecheck:
      glob: "src/**/*.{ts,tsx}"
      run: pnpm check:types

    lint:
      glob: "src/**/*.{ts,tsx}"
      run: pnpm run lint

commit-msg:
  parallel: true
  commands:
    commitlint:
      run: commitlint -e
